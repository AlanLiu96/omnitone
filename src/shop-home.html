<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icons/av-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-spinner/paper-spinner-lite.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">

<link rel="import" href="shop-button.html">
<link rel="import" href="shop-image.html">

<dom-module id="shop-home">

  <template>

    <style>

      @media (max-width: 767px) {
      }

      .section {
        margin: 0;
        padding: 20px 30px;
        text-align: center;
      }

      .section.title {
        color: #FFFFFF;
        background: #546e7a;
        background: radial-gradient(ellipse farthest-side at 50% 0, #546e7a 0%,#263238 100%);
        text-align: center;
        padding-top: 50px;
        padding-bottom: 50px;
      }

      .section.title h1 {
        @apply(--paper-font-display3);
        font-size: 60px;
        margin: 15px 0;
        padding: 0;
      }

      .section.title h2 {
        @apply(--paper-font-display2);
        font-size: 22px;
        line-height: 30px;
        margin: 10px 30px;
        padding: 0;
      }

      .section.text {
        max-width: 768px;
        margin: 0 auto;
      }

      .section.text p {
        @apply(--paper-font-subhead);
        margin: 10px;
      }

      #browser-support {
        margin-top: 30px;
      }

      .browser-support-table {
        @apply(--layout-horizontal);
        width: 256px;
        margin: 10px auto;
        border-top: 1px solid #78909C;
      }

      .browser-column {
        @apply(--layout-flex);
        @apply(--layout-center-justified);
        margin: 10px 0;
      }

      .browser-name {
        @apply(--paper-font-body2);
        padding-bottom: 7px;
      }

      .browser-support-state {
        margin: 0 auto;
        height: 40px;
        width: 40px;
      }

      .circle-green {
        border-radius: 20px;
        background-color: #00E676;
      }

      .circle-gray {
        border-radius: 20px;
        background-color: #B0BEC5;
      }

      .section.text p.caption {
        @apply(--paper-font-caption);
        white-space: normal;
      }

      .section.demo {
        @apply(--paper-font-headline);
        color: #FFFFFF;
        background-color: #03A9F4;
        height: 180px;
        /*background: -moz-linear-gradient(top, rgba(84,110,122,1) 0%, rgba(38,50,56,1) 100%);
        background: -ms-linear-gradient(top, rgba(84,110,122,1) 0%, rgba(38,50,56,1) 100%);
        background: linear-gradient(to bottom, rgba(84,110,122,1) 0%, rgba(38,50,56,1) 100%);*/
        text-align: center;
        padding-top: 50px;
        padding-bottom: 50px;
      }

      .section.demo a {
        text-decoration: none;
        color: #FFFFFF;
      }

      #eSpinnerDemo {
        padding-top: 50px;
      }

      #eButtonPlayDemo {
        display: none;
      }

      .button-play-demo {
        height: 180px;
        animation: pulsate 1.5s ease-out;
        animation-iteration-count: infinite;
      }

      .button-play-demo paper-icon-button {
        width: 128px;
        height: 128px;
      }

      @keyframes pulsate {
        0% { opacity: 0.15; }
        50% { opacity: 1.0; }
        100% { opacity: 0.15; }
      }

      .section.resources {
        @apply(--layout-horizontal);
        max-width: 768px;
        margin: 0 auto;
      }

      .section.resources .grid {
        @apply(--layout-horizontal);
        @apply(--layout-wrap);
        @apply(--layout-justified);        
        padding: 0;
        list-style: none;
      }

      .section.resources .grid li {
        -webkit-flex: 1 1;
        flex: 1 1;
        -webkit-flex-basis: 50%;
        flex-basis: 50%;
        max-width: 50%;
      }

      @media (max-width: 550px) {
        .section.resources .grid  li {
          -webkit-flex-basis: 100%;
          flex-basis: 100%;
          max-width: 100%;
        }
      }
      
      .section.resources h2 {
        margin: 10px 10px 0 10px;
        font-weight: 400;
      }

      .section.resources p {
        @apply(--paper-font-body1);
        display: inline-block;
        padding: 10px 0;
        margin: 10px;
        border-top: 1px solid #B0BEC5;
        text-align: left;
      }

      .section.resources a {
        display: inline-block;
        text-decoration: none;
        color: #0091EA;
        margin: 0;
      }

      .section.footer {
        @apply(--paper-font-title);
        color: #90A4AE;
      }

      paper-spinner-lite {
        --paper-spinner-color: #CFD8DC;
        --paper-spinner-stroke-width: 6px;
      }
    </style>

    <div class="section title">
      <h1>Omnitone</h1>
      <h2>YouTube's 360&#176; Audio Decoder on the Web</h2>
    </div>

    <div class="section text">
      <p>
        Omnitone is a JS implementation of a <b>first-order ambisonic</b> decoder.<br>
        Use <b>headphones</b> to experience the demo with the full-sphere surround effect.
      </p>
      <div id="browser-support">
        <h2>Browser Support<sup>*</sup></h2>
        <div class="browser-support-table">
          <div class="browser-column">
            <div class="browser-name">Chrome</div>
            <div class="browser-support-state circle-green"></div>
          </div>
          <div class="browser-column">
            <div class="browser-name">FireFox</div>
            <div class="browser-support-state circle-gray"></div>
          </div>
          <div class="browser-column">
            <div class="browser-name">Edge</div>
            <div class="browser-support-state circle-gray"></div>
          </div>
          <div class="browser-column">
            <div class="browser-name">Safari</div>
            <div class="browser-support-state circle-gray"></div>
          </div>
        </div>
      </div>
      <p class="caption">
        * You may hear the difference in some browsers due to the incomplete 
        support of multichannel audio in the Web Audio API implementation.
      </p>
    </div>

    <div class="section demo">
      <div id="eSpinnerDemo">
        <paper-spinner-lite active></paper-spinner-lite>
        <p>Initializing Demo...</p>
      </div>
      <div id="eButtonPlayDemo" class="button-play-demo">
        <paper-icon-button icon="av:play-circle-filled" title="play" on-click="_startDemo"></paper-icon-button>
        <p>Play Demo - "Resonance"</p>
      </div>
    </div>

    <div class="section resources">
      
      <ul class="grid">
        
        <li>
          <a href="https://github.com/GoogleChrome/omnitone/" target="_blank">
            <h2>Documentation</h2>
          </a>
          <p>Omnitone is designed to be the audio counter part of the 360 video
            viewer. See how to use Omnitone JS library in your web page.</p>
        </li>

        <li>
          <a href="https://github.com/google/spatial-media" target="_blank">
            <h2>Google Spatial Media</h2>  
          </a>
          <p>Some wording here. Daydream and Google-wide effort on VR.</p>
        </li>

        <li>
          <a href="https://webaudio.github.io/web-audio-api/">
            <h2>Web Audio API</h2>  
          </a>
          <p>Omnitone is powered by Web Audio API, a JS API for fast audio
            processing for the interactive web application.</p>
        </li>
        
        <li>
          <a href="https://webvr.info/">
            <h2>Web VR</h2>  
          </a>
          <p>Use Omnitone for WebVR application. WebVR is an Javascript API for 
            Virtual Reality devices within your browser.</p>
        </li>

      </ul>

    </div>

    <div class="section footer">
      chrome &#9829; VR
    </div>

  </template> 

  <script>

    Polymer({

      is: 'shop-home',

      properties: {

        categories: {
          type: Array
        },

        visible: {
          type: Boolean,
          observer: '_visibleChanged'
        },

        startDemoCallback: Function

      },

      swapSpinnerToButton: function () {
        this.$.eSpinnerDemo.style.display = 'none';
        this.$.eButtonPlayDemo.style.display = 'block';
      },

      _startDemo: function () {
        if (this.startDemoCallback)
          this.startDemoCallback();
      },

      _visibleChanged: function(visible) {
        if (visible) {
          this.fire('change-section', { title: 'Home' });
        }
      }

    });

  </script>

</dom-module>
